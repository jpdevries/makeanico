<script defer>
  var doEnhancments = document.addEventListener ? true : false,
  production = {% if production %}true{% else %}false{% endif %},
  alertBanner = document.getElementById('alert-banner'),
  saveSwatchBtn = document.createElement('button'),
  fillColor = [255, 255, 255, 100],
  initSwatch,
  min = '{% if production %}.min{% endif %}',
  inputColorByTextColor = document.getElementById('input_color_by__text__color'),
  so = {% if startOver %}true{% else %}false{% endif %},
  inputColorByTextRadio = document.getElementById('input_color_by__text');

  if(!(typeof Promise !== "undefined" && Promise.toString().indexOf("[native code]") !== -1)) document.write('<script src="assets/js/polyfills/es6-promise{% if production %}.min{% endif %}.js"><\/script>');
</script>

{% if startOver %}
  <script defer>
    if(doEnhancments) {
      document.write('<script id="scripts__init" src="assets/js/init{% if production %}.min{% endif %}.js"><\/script>');
      document.write('<script id="scripts__globals" src="assets/js/globals{% if production %}.min{% endif %}.js"><\/script>');
      document.write('<script id="scripts__common" src="assets/js/common{% if production %}.min{% endif %}.js"><\/script>');
      document.write('<script id="scripts__app" src="assets/js/app{% if production %}.min{% endif %}.js"><\/script>');
      document.write('<script id="scripts__export" src="assets/js/components/export{% if production %}.min{% endif %}.js"><\/script>');
      document.write('<script id="scripts__shortcuts" src="assets/js/components/shortcuts{% if production %}.min{% endif %}.js"><\/script>');
    }
  </script>
{% else %}
  <script defer>
    if(doEnhancments) {
      document.write('<script id="scripts__init" src="assets/js/init{% if production %}.min{% endif %}.js"><\/script>');
      // generic user input detected. lazy load the async enhancements for live preview, swatches, ect

    }
  </script>
{% endif %}
