"use strict";addScript("/assets/js/preferences"+min+".js","preferences").then(function(){return addStyle("/assets/css/preferences"+min+".css","preferences")}).then(function(){localStorage.getItem("contrast")&&handlePrefFormChange("contrast",localStorage.getItem("contrast")),localStorage.getItem("fontsize")&&handlePrefFormChange("fontsize",localStorage.getItem("fontsize")),localStorage.getItem("typeface")&&(handlePrefFormChange("typeface",localStorage.getItem("typeface")),handlePrefTypefaceFormChange(localStorage.getItem("typeface")))}).then(function(){return new Promise(function(a,b){return supportsLocalStorage()&&"auto"==localStorage.getItem("contrast")?addScript("/assets/js/preferences_contrastlisteners"+min+".js","preferences_contrastlisteners").then(function(){return a()}):b()})}).then(function(){return addLuminosityListener()},function(a){return a});